{% extends "../base_site.html" %}
{%  load static i18n %}
{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "home/css/home.css" %}" />{% endblock %}

{% block content %}


        <div class="col-xs-12 col-md-8">

            {% if type == "symptom"%}
                <h4 id="q_{{ disease.id }}" class="question-head">Q: What symptoms does <span class="badge badge-secondary">disease</span> "{{ disease }}" have? </h4>
                <div class="ans-list">
		            {% if symptoms %}
			            <p>Others thinked:</p>
		                 {% for symptom in symptoms %}
		                <button class="btn btn-info mr-2 mb-2 ans-btn"  id="{{ symptom.id }}">{{ symptom.symptom_name }}</button>
		                {% endfor %}
		                <p>or more?</p>
		            {% endif %}
		            {% if not symptoms %}
		                <p> Search and then click the result you think it is right.</p>
		            {% endif %}
		        </div>
            {% endif %}
            {% if type == "symptom-valid"%}
                <h4 id="q_{{ disease.id }}" class="question-head">Q: Does <span class="badge badge-secondary">disease</span> "{{ disease }}" have <span class="badge badge-secondary">symptom</span> <span id="a_{{ symptom.id }}" class="valid-word"> "{{ symptom }}" </span>? </h4>
            {% endif %}
            {% if type == "property" %}
                <h4 id="q_{{ symptom.id }}" class="question-head">Q: What properties does <span class="badge badge-secondary">symptom</span> "{{ symptom.symptom_name }}" have? </h4>
		        <div class="ans-list">
		            {% if properties %}
			            <p>Others thinked:</p>
		                 {% for property in properties %}
		                <button class="btn btn-info mr-2 mb-2 ans-btn"  id="{{ property.id }}">{{ property.property_describe }}</button>
		                {% endfor %}
		                <p>or more?</p>
		            {% endif %}
		            {% if not properties %}
		                <p>1. Search and then click</p>
		                <p>2. Input and then add</p>
		            {% endif %}
		        </div>
            {% endif %}
            {% if type == "property-valid" %}
                <h4 id="q_{{ symptom.id }}" class="question-head">Q: Does <span class="badge badge-secondary">symptom</span> "{{ symptom.symptom_name }}" have <span class="badge badge-secondary">property</span> <span id="a_{{ property.id }}" class="valid-word"> "{{ property }}" </span> ? </h4>
            {% endif %}
            {% if type == "value" %}
                <h4 id="q_{{ disease.id }}+{{ symptom.id }}+{{ property.id }}" class="question-head">Q: What values does <span class="badge badge-secondary">property</span> "{{ property }}" have in <span class="badge badge-secondary">disease</span> {{ disease.name }}? </h4>
		        <div class="ans-list">
		            {% if values %}
		                 {% for value in values %}
		                <button class="btn btn-info mr-2 mb-2 ans-btn"  id="{{ value.id }}">{{ value.value_detail }}</button>
		                {% endfor %}
		                <p>or more?</p>
			            <p >Note the unit (days, minutes, degree Celsius) </p>
		            {% endif %}
		            {% if not values %}
		                <p> Please input and <b>add</b> value. Note the unit (days, minutes, degree Celsius)</p>
			            <p >Example: 39â„ƒ</p>
		            {% endif %}
		        </div>
            {% endif %}
            {% if type == "value-valid" %}
	            <h4 id="q_{{ disease.id }}+{{ symptom.id }}+{{ property.id }}" class="question-head">
		            Q: Does <span class="badge badge-secondary">property</span> "{{ property }}" have  <span class="badge badge-secondary">value</span> <span id="a_{{ value.id }}" class="valid-word"> "{{ value }}" </span> in {{ disease.name }}?
	            </h4>
            {% endif %}
        </div>

        <div class="col-xs-12 col-md-4 pl-3 pr-1">

	        <div class="pl-2 mb-1" style="font-size: small;border-left:solid .25rem;border-left-color: #f0ad4e;">
	            <span class="badge badge-secondary">Help</span>
	            The meaning of
	            <b>{{ disease.name }}</b> is:
	            <p id="disease-def">
					{{ defination }}
	            </p>

	        </div>

        </div>

			{% if "valid" in type %}

	        <div class="col-xs-12 col-sm-8 mb-4 agree-div">
		        <button class="btn btn-outline-secondary  agree" value="True" onclick="">Yes</button>
		        <button class="btn btn-outline-secondary disagree" value="False" onclick="">No</button>
	        </div>

	        {% else %}
			<div class="col-xs-12 col-sm-8 mb-4">
				{#  <input type="text" class="form-control" id="input-disease" oninput="search_UMLS()">#}
				<div class="input-group">
			        <input type="text" class="form-control" id="input-disease" oninput="search_database('{{ type }}')">

		            <div class="input-group-append">
		                <button class="btn btn-outline-secondary" type="button" onclick="add_symptom()">Add</button>
		            </div>
				</div>
			</div>
			{% endif %}





        <div class="col-xs-12 col-md-4 pl-3 pr-1">
	        <button class="btn btn-dark" type="button" onclick="next_question()">Next question</button>
        </div>

        <div class="col-xs-12 col-md-8 pl-3 pr-1">
	        <div class="col-xs-12 col-sm-12 mb-4">

	            <p class="" id="api-response">
	                {{ response }}
	            </p>
	        </div>
        </div>
        <div class="col-xs-12 col-md-4 pl-3 pr-1">
	        <ul class="nav selected-ans">

	        </ul>
        </div>


    </div>





{% endblock %}

{% block extrascript %}
    <script>
        check_login();
        session.setItem('tgt','{{ tgt }}');
        session.setItem('type','{{ type }}');
    </script>
    <script src="{% static "home/js/home.js" %}">
    </script>
    <script src="{% static "home/js/load.js" %}">
    </script>
{% endblock %}